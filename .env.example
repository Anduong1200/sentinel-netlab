# Sentinel NetLab - Environment Configuration
# Copy to .env and fill in values. NEVER commit .env to git!

# =============================================================================
# REQUIRED IN PRODUCTION
# =============================================================================

# Controller secret key (generate: openssl rand -hex 32)
CONTROLLER_SECRET_KEY=

# HMAC shared secret for sensor signing (generate: openssl rand -hex 16)
CONTROLLER_HMAC_SECRET=

# MinIO root password (generate: openssl rand -hex 32)
MINIO_ROOT_PASSWORD=

# Postgres password (generate: openssl rand -hex 24)
POSTGRES_PASSWORD=

# Redis password (generate: openssl rand -hex 24)
REDIS_PASSWORD=

# Grafana admin password (generate: openssl rand -hex 24)
GRAFANA_ADMIN_PASSWORD=

# Dashboard API token (generate: openssl rand -hex 32)
DASHBOARD_API_TOKEN=

# Lab API key (generate: openssl rand -hex 32)
LAB_API_KEY=

# Mock sensor auth token (generate: openssl rand -hex 32)
MOCK_SENSOR_TOKEN=

# =============================================================================
# SECURITY SETTINGS
# =============================================================================

# Require HMAC-SHA256 signature on all sensor uploads
REQUIRE_HMAC=true

# Require HTTPS (disable only for local dev)
REQUIRE_TLS=true

# CORS Allowed Origins (comma separated)
CORS_ORIGINS=*

# Maximum time drift allowed (seconds)
MAX_TIME_DRIFT=300

# Token expiry (hours)
TOKEN_EXPIRY_HOURS=720

# =============================================================================
# mTLS SETTINGS (Optional)
# =============================================================================

# Enable mutual TLS authentication
MTLS_ENABLED=false

# Server certificate and key
TLS_CERT_PATH=/etc/sentinel/certs/server.crt
TLS_KEY_PATH=/etc/sentinel/certs/server.key

# CA for client certificate validation
TLS_CA_PATH=/etc/sentinel/certs/ca.crt

# =============================================================================
# DATABASE
# =============================================================================

# SQLite for dev, Postgres for production
# DATABASE_URL=sqlite:///data/sentinel.db
DATABASE_URL=postgresql://sentinel:password@localhost:5432/sentinel

# =============================================================================
# RATE LIMITING
# =============================================================================

# Default rate limit
RATE_LIMIT_DEFAULT=100 per minute

# Per-sensor rate limit
RATE_LIMIT_SENSOR=200 per minute

# Redis URL for rate limiting (optional, uses memory if not set)
REDIS_URL=redis://localhost:6379/0

# =============================================================================
# SENSOR CONFIGURATION
# =============================================================================

# Sensor ID
SENSOR_ID=sensor-01

# Controller URL
CONTROLLER_URL=https://controller.local:5000

# Sensor auth token (get from controller admin)
SENSOR_AUTH_TOKEN=

# HMAC secret (must match controller)
SENSOR_HMAC_SECRET=

# WiFi interface
WIFI_INTERFACE=wlan0

# Verify SSL (set false for self-signed certs in dev)
VERIFY_SSL=true

# =============================================================================
# OBSERVABILITY
# =============================================================================

# Log level
LOG_LEVEL=INFO

# Prometheus metrics port
METRICS_PORT=9090

# Flask environment
FLASK_ENV=development
