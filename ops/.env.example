# =============================================================================
# Sentinel NetLab - Docker Environment Variables
# Copy to .env and configure before running docker-compose
# =============================================================================

# -----------------------------------------------------------------------------
# VERSION
# -----------------------------------------------------------------------------
VERSION=1.0.0

# -----------------------------------------------------------------------------
# CONTROLLER SECRETS (REQUIRED - Generate with: openssl rand -hex 32)
# -----------------------------------------------------------------------------
CONTROLLER_SECRET_KEY=CHANGE_ME_generate_with_openssl_rand_hex_32
CONTROLLER_HMAC_SECRET=CHANGE_ME_generate_with_openssl_rand_hex_32

# -----------------------------------------------------------------------------
# DATABASE (PostgreSQL)
# -----------------------------------------------------------------------------
POSTGRES_USER=sentinel
POSTGRES_PASSWORD=CHANGE_ME_strong_password_here
POSTGRES_DB=sentinel

# Full URL (auto-generated in compose, but can override)
# DATABASE_URL=postgresql://sentinel:password@postgres:5432/sentinel

# -----------------------------------------------------------------------------
# REDIS
# -----------------------------------------------------------------------------
REDIS_PASSWORD=CHANGE_ME_redis_password

# -----------------------------------------------------------------------------
# OBJECT STORAGE (MinIO)
# -----------------------------------------------------------------------------
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=CHANGE_ME_minio_password
S3_BUCKET=sentinel-artifacts

# -----------------------------------------------------------------------------
# GRAFANA
# -----------------------------------------------------------------------------
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=CHANGE_ME_grafana_password
GRAFANA_ROOT_URL=http://localhost:3000

# -----------------------------------------------------------------------------
# SECURITY SETTINGS
# -----------------------------------------------------------------------------
# Require HMAC signature on sensor requests
REQUIRE_HMAC=true

# Require TLS (set to true in production behind nginx)
REQUIRE_TLS=false

# Max time drift for timestamp validation (seconds)
MAX_TIME_DRIFT_SECONDS=300

# -----------------------------------------------------------------------------
# RATE LIMITING
# -----------------------------------------------------------------------------
RATE_LIMIT_DEFAULT=100 per minute
RATE_LIMIT_SENSOR=200 per minute

# -----------------------------------------------------------------------------
# LOGGING
# -----------------------------------------------------------------------------
LOG_LEVEL=INFO
LOG_FORMAT=json

# -----------------------------------------------------------------------------
# TLS CERTIFICATES (for controller if not using nginx)
# -----------------------------------------------------------------------------
# TLS_CERT_PATH=/app/certs/server.crt
# TLS_KEY_PATH=/app/certs/server.key
# TLS_CA_PATH=/app/certs/ca.crt

# -----------------------------------------------------------------------------
# MOCK SENSOR (for testing)
# -----------------------------------------------------------------------------
MOCK_SENSOR_TOKEN=dev-sensor-token

# -----------------------------------------------------------------------------
# SMTP (Alertmanager email)
# -----------------------------------------------------------------------------
# SMTP_HOST=smtp.example.com
# SMTP_PORT=587
# SMTP_USER=sentinel@example.com
# SMTP_PASSWORD=smtp_password

# -----------------------------------------------------------------------------
# EXTERNAL INTEGRATIONS
# -----------------------------------------------------------------------------
# SLACK_WEBHOOK_URL=https://hooks.slack.com/services/...
# PAGERDUTY_SERVICE_KEY=...
# SIEM_WEBHOOK_URL=https://siem.example.com/api/events
